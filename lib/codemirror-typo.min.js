/**
 * codemirror-typo
 * @version v1.0.2
 * @link https://github.com/pirtleshell/codemirror-typo#readme
 * @license MIT
 * @author Robert Pirtle
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.codeMirrorTypo=e()}}(function(){var e;return function(){function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){return o(t[s][1][e]||e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}return e}()({1:[function(e,t,n){},{}],2:[function(t,n,r){(function(o,i){!function(t,o){"object"==typeof r&&void 0!==n?n.exports=o():"function"==typeof e&&e.amd?e(o):t.ES6Promise=o()}(this,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function n(e){return"function"==typeof e}function r(e){z=e}function s(e){$=e}function a(){return void 0!==D?function(){D(c)}:u()}function u(){var e=setTimeout;return function(){return e(c,1)}}function c(){for(var e=0;e<U;e+=2){(0,B[e])(B[e+1]),B[e]=void 0,B[e+1]=void 0}U=0}function l(e,t){var n=this,r=new this.constructor(p);void 0===r[W]&&A(r);var o=n._state;if(o){var i=arguments[o-1];$(function(){return E(o,r,i,n._result)})}else x(n,r,e,t);return r}function f(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(p);return w(n,e),n}function p(){}function d(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function v(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function g(e,t,n){$(function(e){var r=!1,o=v(n,t,function(n){r||(r=!0,t!==n?w(e,n):C(e,n))},function(t){r||(r=!0,_(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,_(e,o))},e)}function m(e,t){t._state===Q?C(e,t._result):t._state===V?_(e,t._result):x(t,void 0,function(t){return w(e,t)},function(t){return _(e,t)})}function y(e,t,r){t.constructor===e.constructor&&r===l&&t.constructor.resolve===f?m(e,t):void 0===r?C(e,t):n(r)?g(e,t,r):C(e,t)}function w(t,n){if(t===n)_(t,d());else if(e(n)){var r=void 0;try{r=n.then}catch(e){return void _(t,e)}y(t,n,r)}else C(t,n)}function b(e){e._onerror&&e._onerror(e._result),O(e)}function C(e,t){e._state===J&&(e._result=t,e._state=Q,0!==e._subscribers.length&&$(O,e))}function _(e,t){e._state===J&&(e._state=V,e._result=t,$(b,e))}function x(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+Q]=n,o[i+V]=r,0===i&&e._state&&$(O,e)}function O(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,s=0;s<t.length;s+=3)r=t[s],o=t[s+n],r?E(n,r,o,i):o(i);e._subscribers.length=0}}function E(e,t,r,o){var i=n(r),s=void 0,a=void 0,u=!0;if(i){try{s=r(o)}catch(e){u=!1,a=e}if(t===s)return void _(t,h())}else s=o;t._state!==J||(i&&u?w(t,s):!1===u?_(t,a):e===Q?C(t,s):e===V&&_(t,s))}function T(e,t){try{t(function(t){w(e,t)},function(t){_(e,t)})}catch(t){_(e,t)}}function M(){return Z++}function A(e){e[W]=Z++,e._state=void 0,e._result=void 0,e._subscribers=[]}function j(){return new Error("Array Methods must be provided an Array")}function S(e){return new ee(this,e).promise}function k(e){var t=this;return new t(I(e)?function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function F(e){var t=this,n=new t(p);return _(n,e),n}function R(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function P(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function N(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=te}var L=void 0;L=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var I=L,U=0,D=void 0,z=void 0,$=function(e,t){B[U]=e,B[U+1]=t,2===(U+=2)&&(z?z(c):K())},q="undefined"!=typeof window?window:void 0,X=q||{},G=X.MutationObserver||X.WebKitMutationObserver,Y="undefined"==typeof self&&void 0!==o&&"[object process]"==={}.toString.call(o),H="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,B=new Array(1e3),K=void 0;K=Y?function(){return function(){return o.nextTick(c)}}():G?function(){var e=0,t=new G(c),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():H?function(){var e=new MessageChannel;return e.port1.onmessage=c,function(){return e.port2.postMessage(0)}}():void 0===q&&"function"==typeof t?function(){try{var e=Function("return this")().require("vertx");return D=e.runOnLoop||e.runOnContext,a()}catch(e){return u()}}():u();var W=Math.random().toString(36).substring(2),J=void 0,Q=1,V=2,Z=0,ee=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(p),this.promise[W]||A(this.promise),I(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&C(this.promise,this._result))):_(this.promise,j())}return e.prototype._enumerate=function(e){for(var t=0;this._state===J&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===f){var o=void 0,i=void 0,s=!1;try{o=e.then}catch(e){s=!0,i=e}if(o===l&&e._state!==J)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===te){var a=new n(p);s?_(a,i):y(a,e,o),this._willSettleAt(a,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===J&&(this._remaining--,e===V?_(r,n):this._result[t]=n),0===this._remaining&&C(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;x(e,void 0,function(e){return n._settledAt(Q,t,e)},function(e){return n._settledAt(V,t,e)})},e}(),te=function(){function e(t){this[W]=M(),this._result=this._state=void 0,this._subscribers=[],p!==t&&("function"!=typeof t&&R(),this instanceof e?T(this,t):P())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,r=t.constructor;return n(e)?t.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})}):t.then(e,e)},e}();return te.prototype.then=l,te.all=S,te.race=k,te.resolve=f,te.reject=F,te._setScheduler=r,te._setAsap=s,te._asap=$,te.polyfill=N,te.Promise=te,te})}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:5}],3:[function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,u=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)i.call(n,l)&&(u[l]=n[l]);if(o){a=o(n);for(var f=0;f<a.length;f++)s.call(n,a[f])&&(u[a[f]]=n[a[f]])}}return u}},{}],4:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":e.slice(n,r)}function o(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}n.resolve=function(){for(var n="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var s=i>=0?arguments[i]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(n=s+"/"+n,r="/"===s.charAt(0))}return n=t(o(n.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(e){var r=n.isAbsolute(e),s="/"===i(e,-1);return e=t(o(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(o(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var o=r(e.split("/")),i=r(t.split("/")),s=Math.min(o.length,i.length),a=s,u=0;u<s;u++)if(o[u]!==i[u]){a=u;break}for(var c=[],u=a;u<o.length;u++)c.push("..");return c=c.concat(i.slice(a)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},n.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,i=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(o=!1,r=s+1),46===a?-1===t?t=s:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){n=s+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:5}],5:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function s(e){if(p===clearTimeout)return clearTimeout(e);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function a(){g&&h&&(g=!1,h.length?v=h.concat(v):m=-1,v.length&&u())}function u(){if(!g){var e=i(a);g=!0;for(var t=v.length;t;){for(h=v,v=[];++m<t;)h&&h[m].run();m=-1,t=v.length}h=null,g=!1,s(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,p,d=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{p="function"==typeof clearTimeout?clearTimeout:o}catch(e){p=o}}();var h,v=[],g=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];v.push(new c(e,t)),1!==v.length||g||i(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],6:[function(e,t,n){(function(n){var r;!function(){"use strict";r=function(e,t,r,o){function i(e,t){var n=h._readFile(e,null,o.asyncLoad);o.asyncLoad?n.then(function(e){t(e)}):t(n)}function s(e){t=e,r&&u()}function a(e){r=e,t&&u()}function u(){for(h.rules=h._parseAFF(t),h.compoundRuleCodes={},l=0,p=h.compoundRules.length;l<p;l++){var e=h.compoundRules[l];for(f=0,d=e.length;f<d;f++)h.compoundRuleCodes[e[f]]=[]}"ONLYINCOMPOUND"in h.flags&&(h.compoundRuleCodes[h.flags.ONLYINCOMPOUND]=[]),h.dictionaryTable=h._parseDIC(r);for(l in h.compoundRuleCodes)0===h.compoundRuleCodes[l].length&&delete h.compoundRuleCodes[l];for(l=0,p=h.compoundRules.length;l<p;l++){var n=h.compoundRules[l],i="";for(f=0,d=n.length;f<d;f++){var s=n[f];s in h.compoundRuleCodes?i+="("+h.compoundRuleCodes[s].join("|")+")":i+=s}h.compoundRules[l]=new RegExp(i,"i")}h.loaded=!0,o.asyncLoad&&o.loadedCallback&&o.loadedCallback(h)}o=o||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=o.flags||{},this.memoized={},this.loaded=!1;var c,l,f,p,d,h=this;return e&&(h.dictionary=e,t&&r?u():"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(c=o.dictionaryPath?o.dictionaryPath:"typo/dictionaries",t||i(chrome.extension.getURL(c+"/"+e+"/"+e+".aff"),s),r||i(chrome.extension.getURL(c+"/"+e+"/"+e+".dic"),a)):(c=o.dictionaryPath?o.dictionaryPath:void 0!==n?n+"/dictionaries":"./dictionaries",t||i(c+"/"+e+"/"+e+".aff",s),r||i(c+"/"+e+"/"+e+".dic",a))),this},r.prototype={load:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);return this},_readFile:function(t,n,r){if(n=n||"utf8","undefined"!=typeof XMLHttpRequest){var o,i=new XMLHttpRequest;return i.open("GET",t,r),r&&(o=new Promise(function(e,t){i.onload=function(){200===i.status?e(i.responseText):t(i.statusText)},i.onerror=function(){t(i.statusText)}})),i.overrideMimeType&&i.overrideMimeType("text/plain; charset="+n),i.send(null),r?o:i.responseText}if(void 0!==e){var s=e("fs");try{if(s.existsSync(t))return s.readFileSync(t,n);console.log("Path "+t+" does not exist.")}catch(e){return console.log(e),""}}},_parseAFF:function(e){var t,n,r,o,i,s,a,u,c={};e=this._removeAffixComments(e);var l=e.split(/\r?\n/);for(i=0,a=l.length;i<a;i++){t=l[i];var f=t.split(/\s+/),p=f[0];if("PFX"==p||"SFX"==p){var d=f[1],h=f[2];r=parseInt(f[3],10);var v=[];for(s=i+1,u=i+1+r;s<u;s++){n=l[s],o=n.split(/\s+/);var g=o[2],m=o[3].split("/"),y=m[0];"0"===y&&(y="");var w=this.parseRuleCodes(m[1]),b=o[4],C={};C.add=y,w.length>0&&(C.continuationClasses=w),"."!==b&&(C.match="SFX"===p?new RegExp(b+"$"):new RegExp("^"+b)),"0"!=g&&(C.remove="SFX"===p?new RegExp(g+"$"):g),v.push(C)}c[d]={type:p,combineable:"Y"==h,entries:v},i+=r}else if("COMPOUNDRULE"===p){for(r=parseInt(f[1],10),s=i+1,u=i+1+r;s<u;s++)t=l[s],o=t.split(/\s+/),this.compoundRules.push(o[1]);i+=r}else"REP"===p?(o=t.split(/\s+/),3===o.length&&this.replacementTable.push([o[1],o[2]])):this.flags[p]=f[1]}return c},_removeAffixComments:function(e){return e=e.replace(/^\s*#.*$/gm,""),e=e.replace(/^\s\s*/m,"").replace(/\s\s*$/m,""),e=e.replace(/\n{2,}/g,"\n"),e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(e){function t(e,t){r.hasOwnProperty(e)||(r[e]=null),t.length>0&&(null===r[e]&&(r[e]=[]),r[e].push(t))}e=this._removeDicComments(e);for(var n=e.split(/\r?\n/),r={},o=1,i=n.length;o<i;o++){var s=n[o];if(s){var a=s.split("/",2),u=a[0];if(a.length>1){var c=this.parseRuleCodes(a[1]);"NEEDAFFIX"in this.flags&&-1!=c.indexOf(this.flags.NEEDAFFIX)||t(u,c);for(var l=0,f=c.length;l<f;l++){var p=c[l],d=this.rules[p];if(d)for(var h=this._applyRule(u,d),v=0,g=h.length;v<g;v++){var m=h[v];if(t(m,[]),d.combineable)for(var y=l+1;y<f;y++){var w=c[y],b=this.rules[w];if(b&&b.combineable&&d.type!=b.type)for(var C=this._applyRule(m,b),_=0,x=C.length;_<x;_++){var O=C[_];t(O,[])}}}p in this.compoundRuleCodes&&this.compoundRuleCodes[p].push(u)}}else t(u.trim(),[])}}return r},_removeDicComments:function(e){return e=e.replace(/^\t.*$/gm,"")},parseRuleCodes:function(e){if(!e)return[];if(!("FLAG"in this.flags))return e.split("");if("long"===this.flags.FLAG){for(var t=[],n=0,r=e.length;n<r;n+=2)t.push(e.substr(n,2));return t}return"num"===this.flags.FLAG?e.split(","):void 0},_applyRule:function(e,t){for(var n=t.entries,r=[],o=0,i=n.length;o<i;o++){var s=n[o];if(!s.match||e.match(s.match)){var a=e;if(s.remove&&(a=a.replace(s.remove,"")),"SFX"===t.type?a+=s.add:a=s.add+a,r.push(a),"continuationClasses"in s)for(var u=0,c=s.continuationClasses.length;u<c;u++){var l=this.rules[s.continuationClasses[u]];l&&(r=r.concat(this._applyRule(a,l)))}}}return r},check:function(e){if(!this.loaded)throw"Dictionary not loaded.";var t=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(t))return!0;if(t.toUpperCase()===t){var n=t[0]+t.substring(1).toLowerCase();if(this.hasFlag(n,"KEEPCASE"))return!1;if(this.checkExact(n))return!0}var r=t.toLowerCase();if(r!==t){if(this.hasFlag(r,"KEEPCASE"))return!1;if(this.checkExact(r))return!0}return!1},checkExact:function(e){if(!this.loaded)throw"Dictionary not loaded.";var t,n,r=this.dictionaryTable[e];if(void 0===r){if("COMPOUNDMIN"in this.flags&&e.length>=this.flags.COMPOUNDMIN)for(t=0,n=this.compoundRules.length;t<n;t++)if(e.match(this.compoundRules[t]))return!0}else{if(null===r)return!0;if("object"==typeof r)for(t=0,n=r.length;t<n;t++)if(!this.hasFlag(e,"ONLYINCOMPOUND",r[t]))return!0}return!1},hasFlag:function(e,t,n){if(!this.loaded)throw"Dictionary not loaded.";return!!(t in this.flags&&(void 0===n&&(n=Array.prototype.concat.apply([],this.dictionaryTable[e])),n&&-1!==n.indexOf(this.flags[t])))},alphabet:"",suggest:function(e,t){function n(e,t){var n,r,o,i,s,a={};if("string"==typeof e){var c=e;e={},e[c]=!0}for(var c in e)for(n=0,o=c.length+1;n<o;n++){var l=[c.substring(0,n),c.substring(n)];if(l[1]&&(s=l[0]+l[1].substring(1),t&&!u.check(s)||(s in a?a[s]+=1:a[s]=1)),l[1].length>1&&l[1][1]!==l[1][0]&&(s=l[0]+l[1][1]+l[1][0]+l[1].substring(2),t&&!u.check(s)||(s in a?a[s]+=1:a[s]=1)),l[1])for(r=0,i=u.alphabet.length;r<i;r++)u.alphabet[r]!=l[1].substring(0,1)&&(s=l[0]+u.alphabet[r]+l[1].substring(1),t&&!u.check(s)||(s in a?a[s]+=1:a[s]=1));if(l[1])for(r=0,i=u.alphabet.length;r<i;r++)s=l[0]+u.alphabet[r]+l[1],t&&!u.check(s)||(s in a?a[s]+=1:a[s]=1)}return a}if(!this.loaded)throw"Dictionary not loaded.";if(t=t||5,this.memoized.hasOwnProperty(e)){var r=this.memoized[e].limit;if(t<=r||this.memoized[e].suggestions.length<r)return this.memoized[e].suggestions.slice(0,t)}if(this.check(e))return[];for(var o=0,i=this.replacementTable.length;o<i;o++){var s=this.replacementTable[o];if(-1!==e.indexOf(s[0])){var a=e.replace(s[0],s[1]);if(this.check(a))return[a]}}var u=this;return u.alphabet="abcdefghijklmnopqrstuvwxyz",this.memoized[e]={suggestions:function(e){function r(e,t){var n=e[1],r=t[1];return n<r?-1:n>r?1:t[0].localeCompare(e[0])}var o=n(e),i=n(o,!0),s=i;for(var a in o)u.check(a)&&(a in s?s[a]+=o[a]:s[a]=o[a]);var c,l=[];for(c in s)s.hasOwnProperty(c)&&l.push([c,s[c]]);l.sort(r).reverse();var f=[],p="lowercase";e.toUpperCase()===e?p="uppercase":e.substr(0,1).toUpperCase()+e.substr(1).toLowerCase()===e&&(p="capitalized");var d=t;for(c=0;c<Math.min(d,l.length);c++)"uppercase"===p?l[c][0]=l[c][0].toUpperCase():"capitalized"===p&&(l[c][0]=l[c][0].substr(0,1).toUpperCase()+l[c][0].substr(1)),u.hasFlag(l[c][0],"NOSUGGEST")||-1!=f.indexOf(l[c][0])?d++:f.push(l[c][0]);return f}(e),limit:t},this.memoized[e].suggestions}}}(),void 0!==t&&(t.exports=r)}).call(this,"/node_modules/typo-js")},{fs:1}],7:[function(t,n,r){!function(t,r,o){void 0!==n&&n.exports?n.exports=o():"function"==typeof e&&e.amd?e(o):r.urljoin=o()}(0,this,function(){function e(e){var t=[];if(0===e.length)return"";if("string"!=typeof e[0])throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^\/:]+:\/*$/)&&e.length>1){var n=e.shift();e[0]=n+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^\/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^\/:]+):\/*/,"$1://");for(var r=0;r<e.length;r++){var o=e[r];if("string"!=typeof o)throw new TypeError("Url must be a string. Received "+o);""!==o&&(r>0&&(o=o.replace(/^[\/]+/,"")),o=r<e.length-1?o.replace(/[\/]+$/,""):o.replace(/[\/]+$/,"/"),t.push(o))}var i=t.join("/");i=i.replace(/\/(\?|&|#[^!])/g,"$1");var s=i.split("?");return i=s.shift()+(s.length>0?"?":"")+s.join("&")}return function(){var t;return t="object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments),e(t)}})},{}],8:[function(e,t,n){"use strict";var r=e("./typo-tools");t.exports=function(e,t,n,o,i,s){if(n===i.gutterClass){window.typoIsSetup||r.setupTypoMenuEnv(e,s,i.gutterMarkClass),window.typoMenuOpen&&window.removeTypoMenu();var a=e.lineInfo(t);if(a.gutterMarkers){var u=r.getTypos(i,a);if(window.typoMenuOpen=!0,u.length>0){var c=document.createElement("div");c.id="typoMenu",c.style.left=o.pageX+"px",c.style.top=o.pageY+"px",c.setAttribute("data-lineN",t),document.body.appendChild(c);var l=document.createElement("div");l.className="typoItemContainer",c.appendChild(l);for(var f=0;f<u.length;f++){var p=u[f],d=document.createElement("div");d.className="typoItem",d.setAttribute("data-word",p),d.addEventListener("mouseenter",window.showSugMenu),d.addEventListener("mouseleave",window.hideSugMenu),d.appendChild(document.createTextNode(p)),l.appendChild(d)}}for(var h=0;h<u.length;h++)r.addSuggestionMenu(e,u[h],s)}}}},{"./typo-tools":10}],9:[function(e,t,n){"use strict";function r(e,t,n){if(!(!e|!t)){var r={dictPath:"dictionary/"+t,dictFolder:"",filename:t,affFile:"",dicFile:"",typoClass:"typo",typoCSS:"background: rgba(255,0,0,.25)",excludeClasses:["url","comment","tag","word"],gutterClass:"typoFlags",gutterMarkClass:"typoMark"};"string"==typeof n?r.dictPath=n:"object"==typeof n&&(r=s(r,n));var l="";l=r.dictPath.match(/^https?:\/\//i)?i(r.dictPath,r.dictFolder,"/"):o.join(r.dictPath,r.dictFolder,"/");var f,p=l,d=r.affFile?r.affFile:r.filename,h=r.dicFile?r.dicFile:r.filename,v=[p+d+".aff",p+h+".dic"];Promise.all(v.map(u.get)).then(function(n){f=new a(t,n[0],n[1],{platform:"any"});var o=' `~!@#$%^&*()-_=+[]{}\\|;:"<>,./?©0123456789';try{e.addOverlay({token:function(e){var t=e.peek(),n="";if(o.indexOf(t)>=0)return e.next(),null;for(;(t=e.peek())&&o.indexOf(t)<0;)n+=t,e.next();return f.check(n)?void 0:r.typoClass}})}catch(e){console.error(e)}}),u.insertCSS(r);var g=function(e){var t=document.createElement("i");return t.className=e.gutterMarkClass,t.innerHTML="&#128012;",t},m=function(e){if("string"==typeof e&&e.indexOf(r.typoClass)>=0){for(var t=0;t<r.excludeClasses.length;t++)if(e.indexOf(r.excludeClasses[t])>=0)return!1;return!0}return!1},y=function(e,t){if(t.styles){t.styles.filter(m).length>0?e.setGutterMarker(t,r.gutterClass,g(r)):e.setGutterMarker(t,r.gutterClass,null)}else e.setGutterMarker(t,r.gutterClass,null)},w=function(e){try{e.eachLine(function(t){return y(e,t)})}catch(e){console.log(e)}};e.setOption("gutters",e.getOption("gutters").concat(r.gutterClass)),e.refresh(),e.on("cursorActivity",function(e){return w(e)}),e.on("gutterClick",function(e,t,n,o){return c(e,t,n,o,r,f)})}}var o=e("path"),i=e("url-join"),s=e("object-assign"),a=e("typo-js"),u=e("./typo-tools"),c=e("./gutter-menu");t.exports=r},{"./gutter-menu":8,"./typo-tools":10,"object-assign":3,path:4,"typo-js":6,"url-join":7}],10:[function(e,t,n){"use strict";var r=e("es6-promise");t.exports={get:function(e){return new r(function(t,n){var r=new XMLHttpRequest;r.open("GET",e),r.onload=function(){200===r.status?t(r.response):n(Error(r.statusText))},r.onerror=function(){n(Error("Network Error"))},r.send()})},insertCSS:function(e){var t=document.createElement("style");t.type="text/css";for(var n=".CodeMirror .cm-"+e.typoClass,r=0;r<e.excludeClasses.length;r++)n+=":not(.cm-"+e.excludeClasses[r]+")";var o=n+" {"+e.typoCSS+"}";o+=[" ."+e.gutterClass+" {","width: 20px;","white-space: nowrap;","-moz-box-sizing: content-box;","box-sizing: content-box;","}"," ."+e.gutterMarkClass+" {","width: 20px;","border-radius: 1em;","background: #FFFFFF;","border: 1px solid #CCCCCC;","color: #551A8B;","padding: 3px;","transition: all 0.2s;","}"," ."+e.gutterMarkClass+":hover {","cursor: pointer;","color: #885EAD","}"].join(""),t.appendChild(document.createTextNode(o)),document.head.appendChild(t)},getTypos:function(e,t){var n=[],r=t.handle.styles,o=-1,i=function(t){if(o++,"string"==typeof t&&t.indexOf(e.typoClass)>=0){for(var r=0;r<e.excludeClasses.length;r++)if(t.indexOf(e.excludeClasses[r])>=0)return;n.push(o)}};r.map(i);for(var s=[],a=0;a<n.length;a++){var u;u=n[a]-3<=0?r[n[a]-1]:r[n[a]-1]-r[n[a]-3];var c=t.text.substr(r[n[a]-3],u);s.push(c)}return s},setupTypoMenuEnv:function(e,t,n){window.typoIsSetup=!0,window.removeTypoMenu=function(){var e=document.getElementById("typoMenu");document.body.removeChild(e),window.typoMenuOpen=!1},document.addEventListener("mousedown",function(e){!(e.target.className.indexOf("typoItem")>=0||e.target.className.indexOf(n)>=0||e.target.className.indexOf("typoSugItem")>=0)&&window.typoMenuOpen&&window.removeTypoMenu()}),window.showSugMenu=function(e){var t=e.target.getAttribute("data-word");document.querySelector(".typoSugMenu[data-word = "+t+"]").style.display="inline-block"},window.hideSugMenu=function(e){var t=e.target.getAttribute("data-word");document.querySelector(".typoSugMenu[data-word = "+t+"]").style.display="none"},window.replaceTypo=function(t){var n=t.target.innerHTML,r=t.target.parentElement,o=r.getAttribute("data-word"),i=r.parentElement.getAttribute("data-linen"),s=e.getLine(i).indexOf(o),a=s+o.length;e.replaceRange(n,{line:i,ch:s},{line:i,ch:a}),window.removeTypoMenu()}},addSuggestionMenu:function(e,t,n){var o=document.getElementById("typoMenu"),i=document.createElement("div");o.appendChild(i),i.className="typoSugMenu",i.setAttribute("data-word",t),r.resolve(n.suggest(t)).then(function(e){0===e.length?i.innerHTML="No suggestions found.":e.map(function(e){var t=document.createElement("div");return t.className="typoSugItem",t.appendChild(document.createTextNode(e)),t.onclick=window.replaceTypo,i.appendChild(t)})})}}},{"es6-promise":2}]},{},[9])(9)});
//# sourceMappingURL=../lib/src/index.js.map
